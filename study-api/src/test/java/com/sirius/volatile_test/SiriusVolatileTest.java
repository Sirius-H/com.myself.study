package com.sirius.volatile_test;

import com.sirius.BaseTest;
import com.sirius.volatile_.SiriusVolatile;
import org.springframework.beans.factory.annotation.Autowired;
import org.testng.annotations.Test;

public class SiriusVolatileTest extends BaseTest {





    @Test
    public void test_Volatile() {
        int i = 0;
        while (i < 1000) {
            //运行
            //1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111011111111
            final SiriusVolatile siriusVolatile = new SiriusVolatile();
            Thread A = new Thread(new Runnable() {
                public void run() {
                    System.out.print(siriusVolatile.getV1());
                }
            },"A");

            Thread B = new Thread(new Runnable() {
                public void run() {
                    siriusVolatile.setV1();
                }
            },"B");


            //先写后读
            B.start();
            A.start();
            i++;
        }
    }

}
